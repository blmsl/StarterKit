<div fxFlexFill fxLayout="column" *ngIf="(auth.user | async)?.uid">
  <md-toolbar color="primary">
    <button md-icon-button (click)="sidenav.toggle()" fxHide.gt-xs="true">
      <md-icon>menu</md-icon>
    </button>

    <span>App - Demo</span>

    <span fxFlex></span>

    <div fxHide.lt-sm="true">
      <a md-button href="https://github.com/MurWade/app-demo">
        <md-icon svgIcon="github"></md-icon>
        <span>GITHUB</span>
      </a>

      <a md-button routerLink="/profile">
      Hello {{(auth.user | async)?.email}}
    </a>
      <button md-icon-button (click)="logout()" mdTooltip="Sign out" mdTooltipClass="appMdOneLineTooltip">
         <md-icon>exit_to_app</md-icon>
       </button>
    </div>

    <div fxHide.gt-xs>
      <button md-icon-button [mdMenuTriggerFor]="mainMenu"><md-icon>more_vert</md-icon></button>

      <md-menu #mainMenu="mdMenu">
        <a md-menu-item routerLink="/profile">
          <md-icon>person</md-icon>
          <span> {{(auth.user | async)?.email}} </span>
        </a>
        <a md-menu-item href="https://github.com/MurWade/app-demo">
          <md-icon svgIcon="github"></md-icon>
          <span>GITHUB</span>
        </a>
        <md-divider></md-divider>

        <button md-menu-item (click)="logout()">
            <md-icon>exit_to_app</md-icon>
            <span> Sign out</span>
          </button>
      </md-menu>
    </div>
  </md-toolbar>

  <md-sidenav-container fxFlex>
    <md-sidenav #sidenav [mode]="media.isActive('gt-xs') ? 'side' : 'over'" [opened]="media.isActive('gt-xs')">

      <md-list>
        <md-nav-list>
          <a md-list-item routerLink="/"> Home</a>
          <a md-list-item routerLink="/dashy"> Dashy </a>
          <a md-list-item routerLink="/uploads"> My uploads </a>

        </md-nav-list>
        <md-divider></md-divider>
        <md-list-item *ngFor="let user of users | async">
          {{user.email}}
          <span fxFlex></span>
          <app-user-status [status]="user.status"></app-user-status>

        </md-list-item>
      </md-list>
    </md-sidenav>

    <router-outlet></router-outlet>


  </md-sidenav-container>
</div>

<div fxFlexFill fxLayout fxLayoutAlign.gt-xs="center center" *ngIf="!(auth.user | async)?.uid">

  <md-card class="login-wrapper">
    <md-tab-group>
      <md-tab label="Log in">
        <app-login></app-login>
      </md-tab>
      <md-tab label="Sign Up">
        <app-sign-up></app-sign-up>
      </md-tab>
    </md-tab-group>
  </md-card>

</div>
