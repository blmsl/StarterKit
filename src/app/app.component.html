<div *ngIf="(user | async)?.uid">

  <md-toolbar color="primary">
    <span>My Application</span>

    <span fxFlex></span>

    <a md-icon-button href="https://github.com/MurWade/app-demo">
      <md-icon svgIcon="github"></md-icon>
    </a>
    <button md-mini-fab (click)="logout()" mdTooltip="Sign out" [mdTooltipPosition]="'left'"><md-icon>exit_to_app</md-icon></button>


  </md-toolbar>

  <div class="row columns">

    <md-input-container>
      <textarea mdInput placeholder="Write a simple message" (keyup.enter)="send($event.target.value)" [(ngModel)]="msgVal"></textarea>
    </md-input-container>

  </div>


  <md-list>
    <md-list-item *ngFor="let item of items | async">
      {{item.message}}

      <button md-icon-button [mdMenuTriggerFor]="menu"><md-icon>more_horiz</md-icon></button>
      <md-menu #menu="mdMenu">
        <button md-menu-item>
            <md-icon>edit</md-icon>
              <span> Edit </span>
              </button>
        <button md-menu-item (click)="delete(item)">
          <md-icon> voicemail </md-icon>
          <span> Detele</span>
        </button>
      </md-menu>

    </md-list-item>
  </md-list>

</div>

<div fxFlexFill fxLayout fxLayoutAlign="center center" *ngIf="!(user | async)?.uid">

  <md-card>
    <md-tab-group>
      <md-tab label="Sign in">
        <section class="mat-typography">
          <h1>Sign in</h1>
        </section>

        <form #signInForm='ngForm' (ngSubmit)="signInWithEmailAndPassword(signInForm)">
          <md-input-container>
            <input mdInput type="email" placeholder="Email address" (ngModel)="email" name="email" required>
          </md-input-container>

          <md-input-container>
            <input mdInput type="password" placeholder="Password" (ngModel)="password" name="password" required>
          </md-input-container>

          <button type="submit" [disabled]="!signInForm.valid" md-button>Sign in</button>
        </form>
      </md-tab>
      <md-tab label="Sign Up">
        <section class="mat-typography">
          <h1>Sign up</h1>
        </section>
        <form #signUpForm='ngForm' (ngSubmit)="createUserWithEmailAndPassword(signUpForm)">

          <md-input-container>
            <input mdInput type="email" placeholder="Email address" (ngModel)="email" name="email" required>

          </md-input-container>

          <md-input-container>
            <input mdInput type="password" placeholder="Password" (ngModel)="password" name="password" required>
          </md-input-container>

          <button type="submit" [disabled]="!signUpForm.valid" md-button>Sign up</button>
        </form>
      </md-tab>
    </md-tab-group>
  </md-card>

</div>
